<!doctype html>
<html lang="pt-br">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>teste novo — Agendamento Online</title>
<meta name="description" content="Agendamento online do teste novo. Reserve, pague sinal e receba protocolo."/>
<style>
  :root{--bg:#050806;--card:rgba(255,255,255,.05);--line:rgba(255,255,255,.12);--text:#eef5ff;--green:#22c55e;--radius:18px;--max:1120px}
  *{box-sizing:border-box}
  body{margin:0;background:radial-gradient(900px 420px at 20% 0%, rgba(34,197,94,.14), transparent 60%), linear-gradient(180deg, #040806, #050b08); color:var(--text); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial}
  a{color:inherit;text-decoration:none}
  .wrap{max-width:var(--max);margin:0 auto;padding:18px 16px 60px}
  .top{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 14px;border:1px solid var(--line);border-radius:999px;background:rgba(6,12,10,.65);backdrop-filter:blur(10px);position:sticky;top:12px;z-index:20}
  .brand{display:flex;align-items:center;gap:10px;font-weight:1000}
  .dot{width:10px;height:10px;border-radius:999px;background:var(--green);display:inline-block}
  .btn{display:inline-flex;align-items:center;justify-content:center;padding:12px 14px;border-radius:14px;border:1px solid var(--line);background:rgba(255,255,255,.04);font-weight:950}
  .btn.primary{border:0;color:#05120b;background:linear-gradient(135deg,#34d399,#22c55e)}
  .hero{margin-top:14px;border:1px solid var(--line);border-radius:24px;overflow:hidden;position:relative;min-height:320px;}
  .hero::before{content:"";position:absolute;inset:0;background:linear-gradient(90deg, rgba(0,0,0,.72), rgba(0,0,0,.32));}
  .heroIn{position:relative;padding:26px}
  h1{margin:0 0 8px;font-size:40px;line-height:1.05}
  .sub{margin:0;color:rgba(238,245,255,.84);line-height:1.65;max-width:65ch}
  .info{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap}
  .tag{padding:8px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.04);font-weight:950;font-size:12px;color:rgba(238,245,255,.86)}
  .gallery{margin-top:14px;display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
  @media (max-width:900px){.gallery{grid-template-columns:1fr 1fr}}
  @media (max-width:560px){.gallery{grid-template-columns:1fr}}
  .galCard{border:1px solid rgba(255,255,255,.12);border-radius:18px;background:rgba(255,255,255,.03);overflow:hidden;display:flex;flex-direction:column;min-height:210px}
  .galImg{flex:1;background-size:cover;background-position:center}
  .galTxt{padding:12px}
  .galTxt b{display:block;font-weight:1000}
  .galTxt small{display:block;margin-top:6px;color:rgba(238,245,255,.70);font-weight:850}
  footer{margin-top:18px;padding-top:16px;border-top:1px solid rgba(255,255,255,.10);color:rgba(238,245,255,.62);font-size:13px;display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap}
</style>
</head>
<body>
<div class="wrap">
  <header class="top">
    <div class="brand"><span class="dot"></span><span>teste novo</span></div>
    <nav style="display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end">
      <a class="btn" href="#fotos">Fotos</a>
      <a class="btn primary" href="javascript:void(0)">Agendar online</a>
      <a class="btn" href="./painel.html">Painel</a>
    </nav>
  </header>

  <main>
    <section class="hero">
      <div class="heroIn">
        <h1>Agendamento online do teste novo</h1>
        <p class="sub">Reserve seu horário, pague o sinal e receba o protocolo. Atendimento organizado e sem furos.</p>
        <div class="info">
          <span class="tag">Endereço: 123132132</span>
          <span class="tag">Telefone: 131231321231</span>
          <span class="tag">Layout: modelo-3-corporativo</span>
        </div>
      </div>
    </section>

    <section id="fotos" style="margin-top:14px">
      <div style="font-weight:1000;margin:8px 0 10px">Fotos do society</div>
      <div class="gallery">
        
              <a class="galCard" href="#" target="_blank" rel="noopener">
                <div class="galImg" style="background-image:url('')"></div>
                <div class="galTxt">
                  <b>Foto 1</b>
                  <small>Toque para ampliar</small>
                </div>
              </a>
            
              <a class="galCard" href="#" target="_blank" rel="noopener">
                <div class="galImg" style="background-image:url('')"></div>
                <div class="galTxt">
                  <b>Foto 2</b>
                  <small>Toque para ampliar</small>
                </div>
              </a>
            
              <a class="galCard" href="#" target="_blank" rel="noopener">
                <div class="galImg" style="background-image:url('')"></div>
                <div class="galTxt">
                  <b>Foto 3</b>
                  <small>Toque para ampliar</small>
                </div>
              </a>
            
              <a class="galCard" href="#" target="_blank" rel="noopener">
                <div class="galImg" style="background-image:url('')"></div>
                <div class="galTxt">
                  <b>Foto 4</b>
                  <small>Toque para ampliar</small>
                </div>
              </a>
            
              <a class="galCard" href="#" target="_blank" rel="noopener">
                <div class="galImg" style="background-image:url('')"></div>
                <div class="galTxt">
                  <b>Foto 5</b>
                  <small>Toque para ampliar</small>
                </div>
              </a>
            
              <a class="galCard" href="#" target="_blank" rel="noopener">
                <div class="galImg" style="background-image:url('')"></div>
                <div class="galTxt">
                  <b>Foto 6</b>
                  <small>Toque para ampliar</small>
                </div>
              </a>
            
      </div>
    </section>

    <footer>
      <div>© 2026 N&V Gestão Digital</div>
      <div>AgendeCampo.com.br</div>
    </footer>
  </main>
</div>

<script>
(function(){
  const cfg = (window.__AGC_OWNER_DATA && typeof window.__AGC_OWNER_DATA === "object") ? window.__AGC_OWNER_DATA : {dias:["5","6","0"], ini:"18:00", fim:"23:00", slot:60, valor:"120.00", fixos:[]};

  const $ = (id)=>document.getElementById(id);
  const pad2 = (n)=>String(n).padStart(2,"0");
  const timeToMin = (hhmm)=>{ const [h,m]=String(hhmm||"0:0").split(":").map(Number); return (h*60)+(m||0); };
  const minToTime = (min)=>{ const h=Math.floor(min/60), m=min%60; return pad2(h)+":"+pad2(m); };
  const onlyDigits = (s)=>String(s||"").replace(/D+/g,"");

  let selectedTime = "";

  function setWhatsAppLink(){
    const telEl = document.querySelector('[data-tel]') || null;
    const telText = telEl ? (telEl.getAttribute("data-tel") || telEl.textContent || "") : "";
    const raw = onlyDigits(telText);
    if(!raw) return;
    const br = raw.length>=11 ? "55"+raw : "55"+raw;
    const url = "https://wa.me/" + br;
    const btn = $("btnWhatsApp");
    if(btn){ btn.addEventListener("click", ()=> window.open(url, "_blank")); }
  }

  function isReserved(dateStr, timeStr){
    // fixos: [{d:"YYYY-MM-DD", t:"HH:MM"}]
    const arr = Array.isArray(cfg.fixos) ? cfg.fixos : [];
    return arr.some(x => x && x.d === dateStr && x.t === timeStr);
  }

  function renderTimes(){
    const date = ($("agcDate") && $("agcDate").value) ? $("agcDate").value : "";
    const wrap = $("agcTimes");
    const no = $("agcNoTimes");
    if(!wrap || !no) return;

    wrap.innerHTML = "";
    selectedTime = "";
    if(!date){ no.style.display="none"; return; }

    const wd = new Date(date+"T00:00:00").getDay(); // 0=Dom
    const dias = Array.isArray(cfg.dias) ? cfg.dias.map(String) : [];
    if(!dias.includes(String(wd))){ no.style.display="block"; return; }

    const ini = timeToMin(cfg.ini);
    const fim = timeToMin(cfg.fim);
    const slot = Math.max(15, Number(cfg.slot||60));
    const times = [];
    for(let t=ini; t<=fim; t+=slot){
      times.push(minToTime(t));
    }

    let any=false;
    times.forEach(t=>{
      const disabled = isReserved(date, t);
      const b=document.createElement("button");
      b.type="button";
      b.textContent=t;
      b.style.padding="10px 12px";
      b.style.borderRadius="999px";
      b.style.border="1px solid rgba(255,255,255,.14)";
      b.style.background= disabled ? "rgba(255,255,255,.06)" : "rgba(0,0,0,.22)";
      b.style.color="rgba(238,245,255,.92)";
      b.style.fontWeight="900";
      b.style.cursor= disabled ? "not-allowed" : "pointer";
      b.style.opacity= disabled ? ".45" : "1";
      if(!disabled){
        any=true;
        b.addEventListener("click", ()=>{
          Array.from(wrap.querySelectorAll("button")).forEach(x=>x.style.outline="none");
          b.style.outline="2px solid rgba(34,197,94,.65)";
          selectedTime=t;
        });
      }
      wrap.appendChild(b);
    });
    no.style.display = any ? "none" : "block";
  }

  function confirm(){
    const date = $("agcDate") ? $("agcDate").value : "";
    const nome = $("agcNome") ? ($("agcNome").value||"").trim() : "";
    const whats = $("agcWhats") ? ($("agcWhats").value||"").trim() : "";
    const out = $("agcProto");
    if(!date || !selectedTime){ alert("Selecione data e horário."); return; }
    if(!nome || !whats){ alert("Informe nome e WhatsApp."); return; }

    const proto = "AGC-" + date.replaceAll("-","") + "-" + selectedTime.replace(":","") + "-" + Math.random().toString(16).slice(2,6).toUpperCase();
    if(out){
      out.style.display="block";
      out.textContent = "Protocolo: " + proto + " • Envie no WhatsApp para confirmar.";
    }

    const msg = encodeURIComponent(
      "Olá! Quero reservar no " + (document.title||"Society") + "\n" +
      "Data: " + date + "\n" +
      "Horário: " + selectedTime + "\n" +
      "Nome: " + nome + "\n" +
      "WhatsApp: " + whats + "\n" +
      "Protocolo: " + proto
    );

    // tenta usar o telefone exibido na página (se existir)
    const telEl = document.querySelector('[data-tel]') || null;
    const telText = telEl ? (telEl.getAttribute("data-tel") || telEl.textContent || "") : "";
    const raw = onlyDigits(telText);
    if(raw){
      const br = "55"+raw;
      window.open("https://wa.me/" + br + "?text=" + msg, "_blank");
    }
  }

  // wire
  if($("agcDate")) $("agcDate").addEventListener("change", renderTimes);
  if($("agcConfirm")) $("agcConfirm").addEventListener("click", confirm);

  setWhatsAppLink();
})();
</script>

</body>
</html>
