<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Lotof√°cil Prime Analytics</title>

<style>
  :root{
    --bg1:#020617; --bg2:#0f172a;
    --card:#071023; --card2:#061028;
    --text:#e5e7eb; --muted:#94a3b8;
    --green:#22c55e; --green2:#16a34a;
    --yellow:#facc15; --blue:#38bdf8; --red:#fb7185;
    --stroke: rgba(255,255,255,.08);
  }
  *{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
  body{margin:0;color:var(--text);background:linear-gradient(135deg,var(--bg1),var(--bg2));min-height:100vh}
  .center{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:18px}
  .login{
    width:100%;max-width:380px;
    background:linear-gradient(180deg,var(--card),rgba(255,255,255,.02));
    border:1px solid rgba(255,255,255,.06);
    border-radius:18px;padding:22px;
    box-shadow:0 30px 80px rgba(0,0,0,.55);
  }
  .brand{text-align:center;font-weight:900;letter-spacing:.5px;font-size:18px}
  .brand small{display:block;color:var(--muted);font-weight:600;margin-top:6px}
  input, select{
    width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,.10);
    background:#020617;color:var(--text);outline:none;margin-top:12px;
  }
  button{
    width:100%;margin-top:12px;padding:13px 14px;border:none;border-radius:12px;
    background:linear-gradient(135deg,var(--green),var(--green2));
    color:#022c22;font-weight:900;cursor:pointer;transition:.15s;
  }
  button:hover{filter:brightness(1.05);transform:translateY(-1px)}
  button.secondary{background:transparent;border:1px solid rgba(255,255,255,.12);color:var(--text)}
  button.small{padding:10px 12px;border-radius:10px;font-weight:900}
  #app{display:none;max-width:1100px;margin:0 auto;padding:18px}

  .header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-bottom:14px}
  .title{font-size:20px;font-weight:900;margin:0}
  .subtitle{margin:6px 0 0;color:var(--muted);font-size:13px;font-weight:600}
  .chip{
    display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border-radius:999px;
    background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.07);
    color:var(--muted);font-size:12px;font-weight:700;
  }

  .card{
    background:linear-gradient(180deg,var(--card2),rgba(255,255,255,.02));
    border:1px solid rgba(255,255,255,.06);
    border-radius:18px;padding:16px;
    box-shadow:0 18px 50px rgba(0,0,0,.35);
    margin-bottom:14px;
  }
  .row{display:flex;gap:12px;flex-wrap:wrap;align-items:flex-end}
  label{display:block;font-size:12px;color:var(--muted);font-weight:800;margin-bottom:6px}
  .col{flex:1;min-width:240px}

  .status{
    display:none;margin-top:10px;padding:12px;border-radius:14px;
    background:rgba(56,189,248,.08);border:1px solid rgba(56,189,248,.18);
    color:#cdefff;font-size:13px;font-weight:700;
  }
  .bar{height:10px;border-radius:999px;overflow:hidden;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.06);margin-top:10px}
  .bar>div{height:100%;width:0%;background:linear-gradient(90deg,var(--blue),var(--green));transition:width .2s ease}

  .numbers{text-align:center;color:var(--green);font-weight:900;letter-spacing:1px;font-size:18px;margin:10px 0 4px}
  .range{text-align:center;color:var(--muted);font-size:13px;font-weight:700;margin:0 0 10px}

  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px;margin-top:10px}
  .box{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:12px}
  .box h4{margin:0 0 6px;font-size:13px}
  .box p{margin:0;color:var(--text);font-size:13px;line-height:1.45}
  .pill{display:inline-block;padding:6px 10px;border-radius:999px;font-size:12px;font-weight:900;margin-bottom:8px}
  .pill.hot{background:rgba(34,197,94,.15);color:var(--green);border:1px solid rgba(34,197,94,.25)}
  .pill.warm{background:rgba(250,204,21,.12);color:var(--yellow);border:1px solid rgba(250,204,21,.25)}
  .pill.cold{background:rgba(251,113,133,.12);color:var(--red);border:1px solid rgba(251,113,133,.25)}
  .pill.info{background:rgba(56,189,248,.10);color:var(--blue);border:1px solid rgba(56,189,248,.22)}
  .mini{color:var(--muted);font-size:12px;margin-top:8px;line-height:1.4}
  .footerNote{text-align:center;color:var(--muted);font-size:11px;margin-top:10px}

  .actions{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:10px}
  .actions button{width:auto;min-width:220px}

  /* MODAL */
  .modalBack{
    display:none; position:fixed; inset:0;
    background:rgba(0,0,0,.60);
    backdrop-filter: blur(6px);
    align-items:center; justify-content:center;
    padding:16px; z-index:999;
  }
  .modal{
    width:100%; max-width:900px;
    background:linear-gradient(180deg,var(--card),rgba(255,255,255,.02));
    border:1px solid rgba(255,255,255,.10);
    border-radius:18px;
    box-shadow:0 40px 120px rgba(0,0,0,.65);
    overflow:hidden;
  }
  .modalHeader{
    display:flex; justify-content:space-between; align-items:center;
    padding:14px 16px;
    border-bottom:1px solid rgba(255,255,255,.08);
  }
  .modalHeader b{font-size:14px}
  .closeBtn{
    width:auto; min-width:auto;
    padding:8px 10px; border-radius:10px;
    background:transparent; border:1px solid rgba(255,255,255,.14); color:var(--text);
    cursor:pointer;
  }
  .modalBody{padding:14px 16px}
  .table{
    width:100%;
    border-collapse:collapse;
    font-size:13px;
  }
  .table th,.table td{
    padding:10px 8px;
    border-bottom:1px solid rgba(255,255,255,.08);
    text-align:left;
    vertical-align:top;
  }
  .table th{color:var(--muted);font-weight:900;font-size:12px}
  .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
  .tagSrc{
    display:inline-flex; gap:8px; align-items:center;
    padding:6px 10px; border-radius:999px;
    background:rgba(255,255,255,.05);
    border:1px solid rgba(255,255,255,.08);
    font-size:12px; color:var(--muted); font-weight:800;
  }

  /* GRAFICO */
  .chartRow{display:flex;align-items:center;gap:10px;margin:8px 0}
  .chartLabel{width:52px;color:var(--muted);font-weight:900}
  .chartBarWrap{flex:1;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.06);border-radius:999px;overflow:hidden;height:12px}
  .chartBar{height:100%;width:0%;background:linear-gradient(90deg,var(--blue),var(--green))}
  .chartVal{width:42px;text-align:right;color:var(--muted);font-weight:900}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="center" id="loginWrap">
  <div class="login">
    <div class="brand">üéØ LOTOF√ÅCIL PRIME ANALYTICS
      <small>Sistema avan√ßado de an√°lise estat√≠stica</small>
    </div>
    <input type="email" placeholder="Email" />
    <input type="password" placeholder="Senha" />
    <button id="btnEntrar" type="button">Entrar</button>
    <div class="footerNote">*Login visual por enquanto (para testes).</div>
  </div>
</div>

<!-- APP -->
<div id="app">
  <div class="header">
    <div>
      <div class="title">üéØ LOTOF√ÅCIL PRIME ANALYTICS</div>
      <div class="subtitle">Escolha a janela de concursos e gere um jogo com explica√ß√µes completas.</div>
    </div>
    <div class="chip">üì° Concursos reais (fallback autom√°tico)</div>
  </div>

  <div class="card">
    <div class="row">
      <div class="col">
        <label>Quantidade de concursos para an√°lise</label>
        <select id="qtdConcursos">
          <option value="5">√öltimos 5 concursos</option>
          <option value="10" selected>√öltimos 10 concursos</option>
          <option value="15">√öltimos 15 concursos</option>
          <option value="20">√öltimos 20 concursos</option>
          <option value="25">√öltimos 25 concursos</option>
          <option value="50">√öltimos 50 concursos</option>
          <option value="75">√öltimos 75 concursos</option>
          <option value="100">√öltimos 100 concursos</option>
        </select>
      </div>

      <div class="col">
        <label>Gerar jogo com base nos concursos reais</label>
        <button id="btnGerar" type="button">üìä Gerar Jogo + An√°lise</button>
        <button id="btnLimpar" class="secondary" type="button">üßπ Limpar cache (se der erro)</button>
      </div>
    </div>

    <div id="status" class="status">
      <div id="statusText">Carregando‚Ä¶</div>
      <div class="bar"><div id="barFill"></div></div>
    </div>
  </div>

  <div class="card" id="resultado">
    <div class="footerNote">Selecione a quantidade de concursos e clique em ‚ÄúGerar‚Äù.</div>
  </div>

  <div class="footerNote">Aviso: an√°lise estat√≠stica n√£o garante premia√ß√£o. Jogo respons√°vel ‚úÖ</div>
</div>

<!-- MODAL: LISTA CONCURSOS -->
<div id="modalBack" class="modalBack">
  <div class="modal">
    <div class="modalHeader">
      <b>üìå Concursos analisados</b>
      <button class="closeBtn" onclick="fecharModal()">Fechar</button>
    </div>
    <div class="modalBody">
      <div style="display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;align-items:center;margin-bottom:10px">
        <span class="tagSrc" id="tagFonte">Fonte: ‚Äî</span>
        <span class="tagSrc" id="tagIntervalo">Intervalo: ‚Äî</span>
      </div>
      <div id="listaConcursos"></div>

      <div style="margin-top:16px">
        <b>üìä Top 10 dezenas mais frequentes</b>
        <div class="mini">Baseado somente nos concursos do intervalo analisado.</div>
        <div id="chartTop10" style="margin-top:10px"></div>
      </div>
    </div>
  </div>
</div>

<script>
/* =========================
   CONFIG
========================= */
const WORKER = "https://shy-silence-06b9.nvtranspelogistica.workers.dev";

/*
  Provider A: loteriascaixa-api (Heroku) ‚Äî √†s vezes d√° 503
  Provider B: api.guidi.dev.br ‚Äî alternativa est√°vel
  (ambos s√£o p√∫blicos; o 2¬∫ foi citado com exemplos) :contentReference[oaicite:1]{index=1}
*/
const PROVIDERS = [
  {
    name: "loteriascaixa-api (Heroku)",
    latestUrl: () => "https://loteriascaixa-api.herokuapp.com/api/lotofacil/latest",
    concursoUrl: (n) => `https://loteriascaixa-api.herokuapp.com/api/lotofacil/${n}`,
    adapt: (json) => ({
      concurso: Number(json.concurso),
      data: json.data || "",
      dezenas: (json.dezenas || []).map(String)
    })
  },
  {
    name: "api.guidi.dev.br (fallback)",
    latestUrl: () => "https://api.guidi.dev.br/loteria/lotofacil/ultimo",
    concursoUrl: (n) => `https://api.guidi.dev.br/loteria/lotofacil/${n}`,
    adapt: (json) => ({
      concurso: Number(json.numero),
      data: json.dataApuracao || "",
      dezenas: (json.listaDezenas || []).map(String)
    })
  }
];

/* =========================
   UI
========================= */
function setStatus(on, text){
  const st = document.getElementById("status");
  document.getElementById("statusText").textContent = text || "";
  st.style.display = on ? "block" : "none";
}
function setProgress(pct){
  document.getElementById("barFill").style.width = Math.max(0, Math.min(100, pct)) + "%";
}
function entrar(){
  document.getElementById("loginWrap").style.display = "none";
  document.getElementById("app").style.display = "block";
}
function abrirModal(){ document.getElementById("modalBack").style.display = "flex"; }
function fecharModal(){ document.getElementById("modalBack").style.display = "none"; }

/* =========================
   CACHE
========================= */
function cacheKey(providerIdx, concurso){ return `lf_${providerIdx}_${concurso}`; }
function saveCache(providerIdx, concurso, data){
  try{ localStorage.setItem(cacheKey(providerIdx, concurso), JSON.stringify({ts: Date.now(), data})); }catch(e){}
}
function loadCache(providerIdx, concurso){
  try{
    const raw = localStorage.getItem(cacheKey(providerIdx, concurso));
    if(!raw) return null;
    const obj = JSON.parse(raw);
    if(!obj?.ts || (Date.now() - obj.ts) > (48*60*60*1000)) return null;
    return obj.data || null;
  }catch(e){ return null; }
}
function limparCache(){
  const keys = [];
  for(let i=0;i<localStorage.length;i++){
    const k = localStorage.key(i);
    if(k && k.startsWith("lf_")) keys.push(k);
  }
  keys.forEach(k => localStorage.removeItem(k));
  alert("Cache limpo! Agora tente gerar novamente.");
}

/* =========================
   FETCH via Worker (Proxy)
========================= */
async function fetchJsonViaWorker(url){
  const proxied = `${WORKER}/?url=${encodeURIComponent(url)}`;
  const r = await fetch(proxied, { cache: "no-store" });
  if(!r.ok) throw new Error("HTTP " + r.status);
  return await r.json();
}

/* =========================
   DADOS (com fallback)
========================= */
async function getLatestWithFallback(){
  let lastErr = null;
  for(let i=0;i<PROVIDERS.length;i++){
    try{
      const p = PROVIDERS[i];
      const raw = await fetchJsonViaWorker(p.latestUrl());
      const data = p.adapt(raw);
      if(!data.concurso || !Array.isArray(data.dezenas) || data.dezenas.length < 10) {
        throw new Error("Resposta inv√°lida do provider");
      }
      return { providerIdx: i, providerName: p.name, latest: data };
    }catch(e){
      lastErr = e;
    }
  }
  throw lastErr || new Error("Falha ao buscar latest");
}

async function getConcurso(providerIdx, concurso){
  const cached = loadCache(providerIdx, concurso);
  if(cached) return cached;

  const p = PROVIDERS[providerIdx];
  const raw = await fetchJsonViaWorker(p.concursoUrl(concurso));
  const data = p.adapt(raw);
  saveCache(providerIdx, concurso, data);
  return data;
}

/* =========================
   DOWNLOAD RANGE (concorr√™ncia)
========================= */
async function fetchRange(providerIdx, inicio, fim, onProgress){
  const total = (fim - inicio + 1);
  const concurrency = 8;
  const results = new Array(total);
  let next = inicio;
  let done = 0;

  async function worker(){
    while(next <= fim){
      const c = next; next++;
      const idx = c - inicio;
      const data = await getConcurso(providerIdx, c);
      results[idx] = data;
      done++;
      if(onProgress) onProgress(done, total);
    }
  }
  const workers = [];
  for(let i=0;i<concurrency;i++) workers.push(worker());
  await Promise.all(workers);
  return results;
}

/* =========================
   ESTAT√çSTICAS
========================= */
function toNum(d){ return Number(String(d).replace(/^0+/,"")) || Number(d); }
function calcularFrequencias(concursos){
  const freq = {};
  for(let i=1;i<=25;i++) freq[i] = 0;
  concursos.forEach(c=>{
    (c.dezenas||[]).forEach(d=>{
      const n = toNum(d);
      if(n>=1 && n<=25) freq[n] += 1;
    });
  });
  return freq;
}
function ordenarPorFreq(freq){
  return Object.entries(freq).map(([k,v])=>({dez:Number(k), f:v})).sort((a,b)=>b.f-a.f);
}
function sortNum(a){ return a.slice().sort((x,y)=>x-y); }

function gerarJogoPorFreq(freq){
  const ord = ordenarPorFreq(freq);
  const quentesTop = sortNum(ord.slice(0,6).map(x=>x.dez));
  const friasBot   = sortNum(ord.slice(-4).map(x=>x.dez));
  const meioPool   = ord.slice(6,-4).map(x=>x.dez);

  const set = new Set([...quentesTop, ...friasBot]);
  for(const n of meioPool){
    if(set.size>=15) break;
    set.add(n);
  }
  while(set.size<15) set.add(Math.floor(Math.random()*25)+1);
  return sortNum(Array.from(set));
}
function classificarDezenas(freq, jogo){
  const ord = ordenarPorFreq(freq);
  const rank = {};
  ord.forEach((x,i)=> rank[x.dez]=i+1);
  const hot=[], warm=[], cold=[];
  jogo.forEach(n=>{
    const r = rank[n]||999;
    if(r<=8) hot.push(n);
    else if(r<=17) warm.push(n);
    else cold.push(n);
  });
  return {hot:sortNum(hot), warm:sortNum(warm), cold:sortNum(cold)};
}
function contarParesImpares(jogo){
  const pares = jogo.filter(n=>n%2===0).length;
  return {pares, impares: jogo.length - pares};
}
function somaDezenas(jogo){ return jogo.reduce((a,b)=>a+b,0); }
function distribuicaoBlocos(jogo){
  const b={A:0,B:0,C:0,D:0};
  jogo.forEach(n=>{
    if(n<=6) b.A++; else if(n<=12) b.B++; else if(n<=18) b.C++; else b.D++;
  });
  return b;
}
function format2(n){ return String(n).padStart(2,"0"); }

/* =========================
   RENDER: LISTA + TOP10
========================= */
function renderListaConcursos(concursos){
  const rows = concursos.map(c=>{
    const dezenas = (c.dezenas||[]).map(d=>format2(toNum(d))).join(" - ");
    const data = c.data ? String(c.data) : "‚Äî";
    return `<tr>
      <td><b>${c.concurso}</b></td>
      <td>${data}</td>
      <td class="mono">${dezenas}</td>
    </tr>`;
  }).join("");

  return `
    <table class="table">
      <thead>
        <tr><th>Concurso</th><th>Data</th><th>Dezenas</th></tr>
      </thead>
      <tbody>${rows}</tbody>
    </table>
  `;
}

function renderTop10(freq, totalConcursos){
  const ord = ordenarPorFreq(freq).slice(0,10);
  const max = ord[0]?.f || 1;

  return ord.map(x=>{
    const pct = Math.round((x.f/max)*100);
    return `
      <div class="chartRow">
        <div class="chartLabel">${format2(x.dez)}</div>
        <div class="chartBarWrap"><div class="chartBar" style="width:${pct}%"></div></div>
        <div class="chartVal">${x.f}</div>
      </div>
    `;
  }).join("") + `<div class="mini">Frequ√™ncia = quantidade de apari√ß√µes em ${totalConcursos} concursos.</div>`;
}

/* =========================
   MAIN
========================= */
let lastContext = null; // guarda para abrir modal depois

async function gerarAnalise(){
  const qtd = Number(document.getElementById("qtdConcursos").value);
  const btn = document.getElementById("btnGerar");
  try{
    btn.disabled = true;
    setStatus(true, "Buscando o √∫ltimo concurso (com fallback)‚Ä¶");
    setProgress(6);

    const { providerIdx, providerName, latest } = await getLatestWithFallback();
    const ultimo = latest.concurso;
    const inicio = ultimo - qtd + 1;
    if(inicio < 1) throw new Error("Intervalo inv√°lido.");

    setStatus(true, `Baixando concursos ${inicio} a ${ultimo}‚Ä¶`);
    setProgress(10);

    const concursos = await fetchRange(providerIdx, inicio, ultimo, (done, total)=>{
      const pct = 10 + Math.round((done/total)*80);
      setProgress(pct);
      setStatus(true, `Baixando concursos ${inicio} a ${ultimo}‚Ä¶ (${done}/${total})`);
    });

    setStatus(true, "Calculando frequ√™ncias e gerando jogo‚Ä¶");
    setProgress(94);

    const freq = calcularFrequencias(concursos);
    const jogo = gerarJogoPorFreq(freq);
    const cls = classificarDezenas(freq, jogo);
    const pi = contarParesImpares(jogo);
    const soma = somaDezenas(jogo);
    const blocos = distribuicaoBlocos(jogo);

    setStatus(false, "");
    setProgress(0);

    // guarda contexto pro modal
    lastContext = { providerName, inicio, ultimo, qtd, concursos, freq };

    const numerosFmt = jogo.map(format2).join(" - ");

    document.getElementById("resultado").innerHTML = `
      <div class="numbers">${numerosFmt}</div>
      <div class="range">üìå An√°lise dos concursos <b>${inicio}</b> a <b>${ultimo}</b> (${qtd} concursos)</div>

      <div class="actions">
        <button class="small secondary" type="button" onclick="abrirDetalhes()">üìÖ Ver concursos analisados (lista + gr√°fico)</button>
      </div>

      <div class="grid">
        <div class="box">
          <div class="pill hot">üî• Quentes (no seu jogo)</div>
          <p><b>${cls.hot.map(format2).join(", ") || "‚Äî"}</b></p>
          <div class="mini">Motivo: aparecem mais vezes no intervalo analisado.</div>
        </div>

        <div class="box">
          <div class="pill warm">üå°Ô∏è Mornas (no seu jogo)</div>
          <p><b>${cls.warm.map(format2).join(", ") || "‚Äî"}</b></p>
          <div class="mini">Motivo: estabilidade para equilibrar o padr√£o.</div>
        </div>

        <div class="box">
          <div class="pill cold">‚ùÑÔ∏è Frias (no seu jogo)</div>
          <p><b>${cls.cold.map(format2).join(", ") || "‚Äî"}</b></p>
          <div class="mini">Motivo: menor incid√™ncia ‚Äî adiciona diversidade.</div>
        </div>

        <div class="box">
          <div class="pill info">‚öñÔ∏è Pares x √çmpares</div>
          <p><b>${pi.pares}</b> pares ‚Ä¢ <b>${pi.impares}</b> √≠mpares</p>
          <div class="mini">Resumo: balanceamento autom√°tico para evitar extremos.</div>
        </div>

        <div class="box">
          <div class="pill info">‚ûï Soma total</div>
          <p><b>${soma}</b></p>
          <div class="mini">Resumo: ajuda a evitar combina√ß√µes fora do padr√£o.</div>
        </div>

        <div class="box">
          <div class="pill info">üß© Distribui√ß√£o por blocos</div>
          <p>A(01‚Äì06): <b>${blocos.A}</b> ‚Ä¢ B(07‚Äì12): <b>${blocos.B}</b> ‚Ä¢ C(13‚Äì18): <b>${blocos.C}</b> ‚Ä¢ D(19‚Äì25): <b>${blocos.D}</b></p>
          <div class="mini">Resumo: cobre faixas do volante para reduzir ‚Äúburacos‚Äù.</div>
        </div>

        <div class="box">
          <div class="pill info">üîé Transpar√™ncia</div>
          <p>Fonte usada: <b>${providerName}</b></p>
          <div class="mini">Se uma API cair (ex: 503), o sistema muda para outra automaticamente.</div>
        </div>
      </div>
    `;
  }catch(e){
    setStatus(false,"");
    setProgress(0);
    document.getElementById("resultado").innerHTML = `
      <h3 style="text-align:center;">‚ö†Ô∏è Erro ao buscar concursos reais</h3>
      <div class="box">
        <div class="pill info">Detalhe</div>
        <p>${String(e?.message || e)}</p>
        <div class="mini">Dica: tente novamente em 30s. Se persistir, pode ser queda geral das fontes p√∫blicas.</div>
      </div>
    `;
  }finally{
    btn.disabled = false;
  }
}

function abrirDetalhes(){
  if(!lastContext) return;
  document.getElementById("tagFonte").textContent = "Fonte: " + lastContext.providerName;
  document.getElementById("tagIntervalo").textContent = `Intervalo: ${lastContext.inicio} ‚Üí ${lastContext.ultimo} (${lastContext.qtd})`;

  document.getElementById("listaConcursos").innerHTML = renderListaConcursos(lastContext.concursos);
  document.getElementById("chartTop10").innerHTML = renderTop10(lastContext.freq, lastContext.qtd);

  abrirModal();
}

/* =========================
   EVENTS
========================= */
document.addEventListener("DOMContentLoaded", ()=>{
  document.getElementById("btnEntrar").addEventListener("click", entrar);
  document.getElementById("btnGerar").addEventListener("click", gerarAnalise);
  document.getElementById("btnLimpar").addEventListener("click", limparCache);

  // fecha modal clicando fora
  document.getElementById("modalBack").addEventListener("click", (e)=>{
    if(e.target.id === "modalBack") fecharModal();
  });
});
</script>

</body>
</html>
