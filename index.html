<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Lotof√°cil Prime Analytics</title>

<style>
  :root{
    --bg1:#020617; --bg2:#0f172a;
    --card:#071023; --card2:#061028;
    --text:#e5e7eb; --muted:#94a3b8;
    --green:#22c55e; --green2:#16a34a;
    --yellow:#facc15; --blue:#38bdf8; --red:#fb7185;
  }
  *{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
  body{margin:0;color:var(--text);background:linear-gradient(135deg,var(--bg1),var(--bg2));min-height:100vh}

  .center{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:18px}
  .login{
    width:100%;max-width:440px;
    background:linear-gradient(180deg,var(--card),rgba(255,255,255,.02));
    border:1px solid rgba(255,255,255,.06);
    border-radius:18px;padding:22px;
    box-shadow:0 30px 80px rgba(0,0,0,.55);
  }
  .brand{text-align:center;font-weight:900;letter-spacing:.5px;font-size:18px}
  .brand small{display:block;color:var(--muted);font-weight:600;margin-top:6px}

  input, select{
    width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,.10);
    background:#020617;color:var(--text);outline:none;margin-top:12px;
  }

  button{
    width:100%;margin-top:12px;padding:13px 14px;border:none;border-radius:12px;
    background:linear-gradient(135deg,var(--green),var(--green2));
    color:#022c22;font-weight:900;cursor:pointer;transition:.15s;
  }
  button:hover{filter:brightness(1.05);transform:translateY(-1px)}
  button.secondary{background:transparent;border:1px solid rgba(255,255,255,.12);color:var(--text)}
  button.danger{background:linear-gradient(135deg,#fb7185,#ef4444);color:#2b0b0b}
  button:disabled{opacity:.55;cursor:not-allowed;transform:none}

  .msg{
    margin-top:12px;
    padding:12px;border-radius:14px;
    background:rgba(56,189,248,.08);
    border:1px solid rgba(56,189,248,.18);
    color:#cdefff;font-size:13px;font-weight:700;
    display:none;
  }
  .msg.err{
    background:rgba(251,113,133,.10);
    border:1px solid rgba(251,113,133,.25);
    color:#ffd3da;
  }

  #app{display:none;max-width:1100px;margin:0 auto;padding:18px}
  .header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-bottom:14px}
  .title{font-size:20px;font-weight:900;margin:0}
  .subtitle{margin:6px 0 0;color:var(--muted);font-size:13px;font-weight:600}
  .chip{
    display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border-radius:999px;
    background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.07);
    color:var(--muted);font-size:12px;font-weight:700;
  }

  .card{
    background:linear-gradient(180deg,var(--card2),rgba(255,255,255,.02));
    border:1px solid rgba(255,255,255,.06);
    border-radius:18px;padding:16px;
    box-shadow:0 18px 50px rgba(0,0,0,.35);
    margin-bottom:14px;
  }
  .row{display:flex;gap:12px;flex-wrap:wrap;align-items:flex-end}
  label{display:block;font-size:12px;color:var(--muted);font-weight:800;margin-bottom:6px}
  .col{flex:1;min-width:240px}

  .status{
    display:none;margin-top:10px;padding:12px;border-radius:14px;
    background:rgba(56,189,248,.08);border:1px solid rgba(56,189,248,.18);
    color:#cdefff;font-size:13px;font-weight:700;
  }
  .bar{height:10px;border-radius:999px;overflow:hidden;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.06);margin-top:10px}
  .bar>div{height:100%;width:0%;background:linear-gradient(90deg,var(--blue),var(--green));transition:width .2s ease}

  .numbers{text-align:center;color:var(--green);font-weight:900;letter-spacing:1px;font-size:18px;margin:10px 0 4px}
  .range{text-align:center;color:var(--muted);font-size:13px;font-weight:700;margin:0 0 10px}

  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px;margin-top:10px}
  .box{background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:12px}
  .box p{margin:0;color:var(--text);font-size:13px;line-height:1.45}
  .pill{display:inline-block;padding:6px 10px;border-radius:999px;font-size:12px;font-weight:900;margin-bottom:8px}
  .pill.hot{background:rgba(34,197,94,.15);color:var(--green);border:1px solid rgba(34,197,94,.25)}
  .pill.warm{background:rgba(250,204,21,.12);color:var(--yellow);border:1px solid rgba(250,204,21,.25)}
  .pill.cold{background:rgba(251,113,133,.12);color:var(--red);border:1px solid rgba(251,113,133,.25)}
  .pill.info{background:rgba(56,189,248,.10);color:var(--blue);border:1px solid rgba(56,189,248,.22)}
  .pill.rep{background:rgba(34,197,94,.10);color:#7CFFB0;border:1px solid rgba(34,197,94,.20)}
  .mini{color:var(--muted);font-size:12px;margin-top:8px;line-height:1.4}
  .footerNote{text-align:center;color:var(--muted);font-size:11px;margin-top:10px}

  .actions{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:10px}
  .actions button{width:auto;min-width:240px}

  .chartCard{
    margin-top:12px;
    background:rgba(255,255,255,.03);
    border:1px solid rgba(255,255,255,.08);
    border-radius:16px;
    padding:14px;
  }
  .chartTitle{display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;align-items:center}
  .chartTitle b{font-size:13px}
  .chartHint{color:var(--muted);font-size:12px;font-weight:800}
  .chartRow{display:flex;align-items:center;gap:10px;margin:10px 0}
  .chartLabel{width:70px;color:var(--text);font-weight:900}
  .chartBarWrap{flex:1;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.10);border-radius:999px;overflow:hidden;height:16px}
  .chartBar{height:100%;width:0%;background:linear-gradient(90deg,var(--blue),var(--green))}
  .chartVal{width:56px;text-align:right;color:var(--text);font-weight:900}

  /* Modais */
  .modalBack{display:none;position:fixed;inset:0;background:rgba(0,0,0,.60);backdrop-filter: blur(6px);align-items:center;justify-content:center;padding:16px;z-index:999}
  .modal{width:100%;max-width:900px;background:linear-gradient(180deg,var(--card),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.10);border-radius:18px;box-shadow:0 40px 120px rgba(0,0,0,.65);overflow:hidden}
  .modalHeader{display:flex;justify-content:space-between;align-items:center;padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.08)}
  .modalHeader b{font-size:14px}
  .closeBtn{width:auto;min-width:auto;padding:8px 10px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,.14);color:var(--text);cursor:pointer}
  .modalBody{padding:14px 16px}

  .table{width:100%;border-collapse:collapse;font-size:13px}
  .table th,.table td{padding:10px 8px;border-bottom:1px solid rgba(255,255,255,.08);text-align:left;vertical-align:top}
  .table th{color:var(--muted);font-weight:900;font-size:12px}
  .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="center" id="loginWrap">
  <div class="login">
    <div class="brand">üéØ LOTOF√ÅCIL PRIME ANALYTICS
      <small>Vers√£o simples (sem Cloudflare) ‚Äî pronta pra vender</small>
    </div>

    <input id="email" type="email" placeholder="Email" />
    <input id="senha" type="password" placeholder="Senha" />

    <button id="btnEntrar" type="button">Entrar</button>

    <div id="msgOk" class="msg"></div>
    <div id="msgErr" class="msg err"></div>

    <div class="footerNote">
      <b>Conta Premium:</b> admin@lotofacilprime.com ‚Ä¢ Senha: prime123<br/>
      (Depois voc√™ muda isso)
    </div>
  </div>
</div>

<!-- APP -->
<div id="app">
  <div class="header">
    <div>
      <div class="title">üéØ LOTOF√ÅCIL PRIME ANALYTICS</div>
      <div class="subtitle">An√°lises estat√≠sticas + explica√ß√µes para um jogo mais ‚Äúforte‚Äù.</div>
    </div>
    <div class="chip" id="chipUser">üë§ N√£o logado</div>
  </div>

  <div class="card" id="premiumGate" style="display:none">
    <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap">
      <div>
        <div style="font-weight:900;font-size:16px">üîí √Årea Premium</div>
        <div class="mini">Para gerar an√°lises reais e jogos avan√ßados, ative o Premium.</div>
      </div>
      <div style="display:flex;gap:10px;flex-wrap:wrap">
        <button class="danger" id="btnComprar" type="button">Comprar Premium</button>
        <button class="secondary" id="btnSair" type="button" style="width:auto;min-width:auto;padding:10px 12px;border-radius:10px">Sair</button>
      </div>
    </div>
    <div class="mini" style="margin-top:10px">
      Dica: grave um v√≠deo mostrando as an√°lises e depois ‚Äúdesbloqueie‚Äù no Premium.
    </div>
  </div>

  <div class="card">
    <div class="row">
      <div class="col">
        <label>Quantidade de concursos para an√°lise</label>
        <select id="qtdConcursos">
          <option value="5">√öltimos 5 concursos</option>
          <option value="10" selected>√öltimos 10 concursos</option>
          <option value="15">√öltimos 15 concursos</option>
          <option value="20">√öltimos 20 concursos</option>
          <option value="25">√öltimos 25 concursos</option>
          <option value="50">√öltimos 50 concursos</option>
          <option value="75">√öltimos 75 concursos</option>
          <option value="100">√öltimos 100 concursos</option>
        </select>
      </div>

      <div class="col">
        <label>Gerar jogo com base em concursos reais (demonstra√ß√£o)</label>
        <button id="btnGerar" type="button">üìä Gerar Jogo + An√°lise</button>
      </div>
    </div>
  </div>

  <div class="card" id="resultado">
    <div class="footerNote">Entre com seu login. Premium libera ‚ÄúGerar‚Äù.</div>
  </div>

  <div class="footerNote">Aviso: an√°lise estat√≠stica n√£o garante premia√ß√£o. Jogo respons√°vel ‚úÖ</div>
</div>

<!-- MODAL LISTA -->
<div id="modalBack" class="modalBack">
  <div class="modal">
    <div class="modalHeader">
      <b>üìå Concursos analisados (lista + datas + dezenas)</b>
      <button class="closeBtn" onclick="fecharModal()">Fechar</button>
    </div>
    <div class="modalBody">
      <div id="listaConcursos"></div>
    </div>
  </div>
</div>

<script>
/* =========================
   LOGIN SUPER SIMPLES (SEM BACKEND)
========================= */

// ‚úÖ Login premium fixo (voc√™ pode trocar depois)
const ADMIN_EMAIL = "admin@lotofacilprime.com";
const ADMIN_PASS  = "prime123";

function showOk(text){
  const el=document.getElementById("msgOk");
  el.style.display="block"; el.textContent=text;
  document.getElementById("msgErr").style.display="none";
}
function showErr(text){
  const el=document.getElementById("msgErr");
  el.style.display="block"; el.textContent=text;
  document.getElementById("msgOk").style.display="none";
}

function setSession(email, premium){
  localStorage.setItem("lf_email", email);
  localStorage.setItem("lf_premium", premium ? "1":"0");
}
function clearSession(){
  localStorage.removeItem("lf_email");
  localStorage.removeItem("lf_premium");
}
function getSession(){
  return {
    email: localStorage.getItem("lf_email") || "",
    premium: localStorage.getItem("lf_premium")==="1"
  };
}

function entrar(){
  const email = (document.getElementById("email").value || "").trim().toLowerCase();
  const senha = (document.getElementById("senha").value || "");

  if(!email || !senha){
    showErr("Digite email e senha.");
    return;
  }

  // ‚úÖ Premium (voc√™)
  if(email === ADMIN_EMAIL.toLowerCase() && senha === ADMIN_PASS){
    setSession(email, true);
    showOk("Bem-vindo! Premium liberado ‚úÖ");
    abrirApp();
    return;
  }

  // ‚úÖ Usu√°rio comum (free)
  setSession(email, false);
  showOk("Entrou no modo Free. Para gerar an√°lises, compre o Premium.");
  abrirApp();
}

function abrirApp(){
  const s = getSession();
  document.getElementById("loginWrap").style.display="none";
  document.getElementById("app").style.display="block";

  document.getElementById("chipUser").textContent =
    (s.premium ? "üëë Premium: " : "üë§ Free: ") + s.email;

  document.getElementById("premiumGate").style.display = s.premium ? "none" : "block";
  document.getElementById("btnGerar").disabled = !s.premium;

  if(!s.premium){
    document.getElementById("resultado").innerHTML = `
      <div style="text-align:center;font-weight:900;font-size:16px">üîí Conte√∫do Premium</div>
      <div class="mini" style="text-align:center;margin-top:8px">
        Ao comprar o Premium voc√™ libera:<br/>
        ‚úÖ Jogo com explica√ß√£o de dezenas escolhidas<br/>
        ‚úÖ Repetidas do √∫ltimo concurso<br/>
        ‚úÖ Pares/√çmpares, Soma, Blocos (A‚ÄìE)<br/>
        ‚úÖ Top 10 dezenas mais frequentes + lista de concursos<br/>
      </div>
    `;
  }
}

function sair(){
  clearSession();
  location.reload();
}

function comprarPremium(){
  // üëâ Aqui voc√™ coloca seu link depois (Kiwify/Hotmart/WhatsApp)
  alert("Para comprar Premium: coloque aqui seu link de pagamento ou WhatsApp.\n\nEx: https://seulink.com");
}

/* =========================
   SEU SISTEMA (an√°lises) - sem backend
   (mantive simples; como √© premium, s√≥ voc√™ testa)
========================= */

function abrirModal(){ document.getElementById("modalBack").style.display = "flex"; }
function fecharModal(){ document.getElementById("modalBack").style.display = "none"; }

function format2(n){ return String(n).padStart(2,"0"); }
function toNum(d){ return Number(String(d).replace(/^0+/,"")) || Number(d); }
function sortNum(a){ return a.slice().sort((x,y)=>x-y); }

function calcularFrequencias(concursos){
  const freq = {};
  for(let i=1;i<=25;i++) freq[i] = 0;
  concursos.forEach(c=>{
    (c.dezenas||[]).forEach(d=>{
      const n = toNum(d);
      if(n>=1 && n<=25) freq[n] += 1;
    });
  });
  return freq;
}
function ordenarPorFreq(freq){
  return Object.entries(freq).map(([k,v])=>({dez:Number(k), f:v})).sort((a,b)=>b.f-a.f);
}
function gerarJogoPorFreq(freq){
  const ord = ordenarPorFreq(freq);
  const quentesTop = sortNum(ord.slice(0,6).map(x=>x.dez));
  const friasBot   = sortNum(ord.slice(-4).map(x=>x.dez));
  const meioPool   = ord.slice(6,-4).map(x=>x.dez);

  const set = new Set([...quentesTop, ...friasBot]);
  for(const n of meioPool){
    if(set.size>=15) break;
    set.add(n);
  }
  while(set.size<15) set.add(Math.floor(Math.random()*25)+1);
  return sortNum(Array.from(set));
}
function classificarDezenas(freq, jogo){
  const ord = ordenarPorFreq(freq);
  const rank = {};
  ord.forEach((x,i)=> rank[x.dez]=i+1);
  const hot=[], warm=[], cold=[];
  jogo.forEach(n=>{
    const r = rank[n]||999;
    if(r<=8) hot.push(n);
    else if(r<=17) warm.push(n);
    else cold.push(n);
  });
  return {hot:sortNum(hot), warm:sortNum(warm), cold:sortNum(cold)};
}
function contarParesImpares(jogo){
  const pares = jogo.filter(n=>n%2===0).length;
  return {pares, impares: jogo.length - pares};
}
function somaDezenas(jogo){ return jogo.reduce((a,b)=>a+b,0); }
function distribuicaoBlocos(jogo){
  const b={A:0,B:0,C:0,D:0,E:0};
  jogo.forEach(n=>{
    if(n>=1 && n<=5) b.A++;
    else if(n>=6 && n<=10) b.B++;
    else if(n>=11 && n<=15) b.C++;
    else if(n>=16 && n<=20) b.D++;
    else b.E++;
  });
  return b;
}

async function gerarAnalise(){
  const s = getSession();
  if(!s.premium){
    alert("üîí Premium necess√°rio.");
    return;
  }

  const qtd = Number(document.getElementById("qtdConcursos").value);

  // ‚úÖ Simula√ß√£o local (pra voc√™ testar sem backend)
  // (depois a gente volta a usar concursos reais, mas j√° sem Cloudflare)
  const concursos = [];
  const ultimo = 3600;
  const inicio = ultimo - qtd + 1;

  for(let c=inicio;c<=ultimo;c++){
    const dezenas = new Set();
    while(dezenas.size<15) dezenas.add(Math.floor(Math.random()*25)+1);
    concursos.push({ concurso:c, data:"‚Äî", dezenas:[...dezenas].map(n=>format2(n)) });
  }

  const freq = calcularFrequencias(concursos);
  const jogo = gerarJogoPorFreq(freq);
  const cls = classificarDezenas(freq, jogo);
  const pi = contarParesImpares(jogo);
  const soma = somaDezenas(jogo);
  const blocos = distribuicaoBlocos(jogo);

  document.getElementById("resultado").innerHTML = `
    <div class="numbers">${jogo.map(format2).join(" - ")}</div>
    <div class="range">üìå An√°lise dos concursos <b>${inicio}</b> a <b>${ultimo}</b> (${qtd} concursos)</div>

    <div class="actions">
      <button class="secondary" type="button" onclick="verConcursos(${inicio},${ultimo})">üìÖ Ver concursos analisados (lista)</button>
    </div>

    <div class="grid">
      <div class="box"><div class="pill hot">üî• Quentes</div><p><b>${cls.hot.map(format2).join(", ")}</b></p><div class="mini">Mais frequentes no per√≠odo.</div></div>
      <div class="box"><div class="pill warm">üå°Ô∏è Mornas</div><p><b>${cls.warm.map(format2).join(", ")}</b></p><div class="mini">Equil√≠brio.</div></div>
      <div class="box"><div class="pill cold">‚ùÑÔ∏è Frias</div><p><b>${cls.cold.map(format2).join(", ")}</b></p><div class="mini">Diversifica√ß√£o.</div></div>
      <div class="box"><div class="pill info">‚öñÔ∏è Pares x √çmpares</div><p><b>${pi.pares}</b> pares ‚Ä¢ <b>${pi.impares}</b> √≠mpares</p><div class="mini">Evita extremos.</div></div>
      <div class="box"><div class="pill info">‚ûï Soma total</div><p><b>${soma}</b></p><div class="mini">Faixa t√≠pica.</div></div>
      <div class="box"><div class="pill info">üß© Blocos (A‚ÄìE)</div>
        <p>A:${blocos.A} ‚Ä¢ B:${blocos.B} ‚Ä¢ C:${blocos.C} ‚Ä¢ D:${blocos.D} ‚Ä¢ E:${blocos.E}</p>
        <div class="mini">A(01‚Äì05) B(06‚Äì10) C(11‚Äì15) D(16‚Äì20) E(21‚Äì25)</div>
      </div>
    </div>
  `;
}

function verConcursos(inicio, ultimo){
  let html = `<table class="table"><thead><tr><th>Concurso</th><th>Data</th><th>Dezenas</th></tr></thead><tbody>`;
  for(let c=inicio;c<=ultimo;c++){
    html += `<tr><td><b>${c}</b></td><td>‚Äî</td><td class="mono">Simulado</td></tr>`;
  }
  html += `</tbody></table>`;
  document.getElementById("listaConcursos").innerHTML = html;
  abrirModal();
}

document.addEventListener("DOMContentLoaded", ()=>{
  const s = getSession();
  if(s.email) abrirApp();

  document.getElementById("btnEntrar").addEventListener("click", entrar);
  document.getElementById("btnGerar").addEventListener("click", gerarAnalise);
  document.getElementById("btnComprar").addEventListener("click", comprarPremium);
  document.getElementById("btnSair").addEventListener("click", sair);

  document.getElementById("modalBack").addEventListener("click", (e)=>{
    if(e.target.id === "modalBack") fecharModal();
  });
});
</script>

</body>
</html>
